Trolley problem
The trolley problem is a series of thought experiments in ethics and psychology, involving stylized ethical dilemmas of whether to sacrifice one person to save a larger number.  The series usually begins with a scenario in which a runaway tram or trolley is on course to collide with and kill a number of people (traditionally five) down the track, but a driver or bystander can intervene and divert the vehicle to kill just one person on a different track.  Then other variations of the runaway vehicle, and analogous life-and-death dilemmas (medical, judicial etc.) are posed, each containing the option to either do nothing, in which case several people will be killed, or intervene and sacrifice one initially "safe" person to save the others.
Opinions on the ethics of each scenario turn out to be sensitive to details of the story that may seem immaterial to the abstract dilemma.  The question of formulating a general principle that can account for the differing judgments arising in different variants of the story was raised in a 1967 philosophy paper by Philippa Foot, and dubbed "the trolley problem" by Judith Jarvis Thomson in a 1976 article that catalyzed a large literature.  Thus, in this subject the trolley problem refers to the meta-problem of why different judgements are arrived at in particular instances, which are called trolley cases, examples, dilemmas, or scenarios.
The most basic version of the dilemma, known as "Bystander at the Switch" or "Switch", goes:
Philippa Foot introduced this genre of decision problems in 1967 as part of an analysis of debates on abortion and the doctrine of double effect. Philosophers Judith Thomson, Frances Kamm, and Peter Unger have also analysed the dilemma extensively. Thomson's 1976 article initiated the literature on the trolley problem as a subject in its own right.  Characteristic of this literature are colorful and increasingly absurd alternative scenarios in which the sacrificed man is instead pushed onto the tracks as a weight to stop the trolley, has his organs harvested to save transplant patients, or is killed in more indirect ways that complicate the chain of causation and responsibility.
Earlier forms of individual trolley scenarios antedated Foot's publication. Frank Chapman Sharp included a version in a moral questionnaire given to undergraduates at the University of Wisconsin in 1905. In this variation, the railway's switchman controlled the switch, and the lone individual to be sacrificed (or not) was the switchman's child.  German philosopher of law Karl Engisch discussed a similar dilemma in his habilitation thesis in 1930, as did German legal scholar Hans Welzel in a work from 1951. In his commentary on the Talmud, published long before his death in 1953, Avrohom Yeshaya Karelitz considered the question of whether it is ethical to deflect a projectile from a larger crowd toward a smaller one. Similarly, in The Strike, a television play broadcast in the United States on June 7, 1954, a commander in the Korean War must choose between ordering an air strike on an encroaching enemy force at the cost of his own 20-man patrol unit, or calling off the strike and risking the lives of the main army made up of 500 men.
Beginning in 2001, the trolley problem and its variants have been used in empirical research on moral psychology. It has been a topic of popular books. Trolley-style scenarios also arise in discussing the ethics of autonomous vehicle design, which may require programming to choose whom or what to strike when a collision appears to be unavoidable.
Original dilemma
Foot's version of the thought experiment, now known as "Trolley Driver", ran as follows:
A utilitarian view asserts that it is obligatory to steer to the track with one man on it. According to classical utilitarianism, such a decision would be not only permissible, but, morally speaking, the better option (the other option being no action at all). An alternative viewpoint is that since moral wrongs are already in place in the situation, moving to another track constitutes a participation in the moral wrong, making one partially responsible for the death when otherwise no one would be responsible. An opponent of action may also point to the incommensurability of human lives. Under some interpretations of moral obligation, simply being present in this situation and being able to influence its outcome constitutes an obligation to participate. If this is the case, then doing nothing would be considered an immoral act.
Empirical research
In 2001, Joshua Greene and colleagues published the results of the first significant empirical investigation of people's responses to trolley problems. Using functional magnetic resonance imaging, they demonstrated that "personal" dilemmas (like pushing a man off a footbridge) preferentially engage brain regions associated with emotion, whereas "impersonal" dilemmas (like diverting the trolley by flipping a switch) preferentially engaged regions associated with controlled reasoning. On these grounds, they advocate for the dual-process account of moral decision-making. Since then, numerous other studies have employed trolley problems to study moral judgment, investigating topics like the role and influence of stress, emotional state, impression management, levels of anonymity, different types of brain damage, physiological arousal, different neurotransmitters, and genetic factors on responses to trolley dilemmas.
Trolley problems have been used as a measure of utilitarianism, but their usefulness for such purposes has been widely criticized.
In 2017, a group led by Michael Stevens performed the first realistic trolley-problem experiment, where subjects were placed alone in what they thought was a train-switching station, and shown footage that they thought was real (but was actually prerecorded) of a train going down a track, with five workers on the main track, and one on the secondary track; the participants had the option to pull the lever to divert the train toward the secondary track. Most of the participants did not pull the lever.
Survey data
The trolley problem has been the subject of many surveys in which about 90% of respondents have chosen to kill the one and save the five. If the situation is modified where the one sacrificed for the five was a relative or romantic partner, respondents are much less likely to be willing to sacrifice the one life.
A 2009 survey by David Bourget and David Chalmers shows that 68% of professional philosophers would switch (sacrifice the one individual to save five lives) in the case of the trolley problem,  8% would not switch, and the remaining 24% had another view or could not answer.
Criticism
In a 2014 paper published in the Social and Personality Psychology Compass, researchers criticized the use of the trolley problem, arguing, among other things, that the scenario it presents is too extreme and unconnected to real-life moral situations to be useful or educational.
Brianna Rennix and Nathan J. Robinson of Current Affairs go even further and assert that the thought experiment is not only useless, but also downright detrimental to human psychology. The authors opine that to make cold calculations about hypothetical situations in which every alternative will result in one or more gruesome deaths is to encourage a type of thinking that is devoid of human empathy and assumes a mandate to decide who lives or dies. They also question the premise of the scenario. "If I am forced against my will into a situation where people will die, and I have no ability to stop it, how is my choice a "moral" choice between meaningfully different options, as opposed to a horror show I've just been thrust into, in which I have no meaningful agency at all?"
In her 2017 paper, Nassim JafariNaimi lays out the reductive nature of the trolley problem in framing ethical problems that serves to uphold an impoverished version of utilitarianism. She argues that the popular argument that the trolley problem can serve as a template for algorithmic morality is based on fundamentally flawed premises that serve the most powerful with potentially dire consequences on the future of cities.
In 2017, in his book On Human Nature, Roger Scruton criticises the usage of ethical dilemmas such as the trolley problem and their usage by philosophers such as Derek Parfit and Peter Singer as ways of illustrating their ethical views. Scruton writes, "These 'dilemmas' have the useful character of eliminating from the situation just about every morally relevant relationship and reducing the problem to one of arithmetic alone." Scruton believes that just because one would choose to change the track so that the train hits the one person instead of the five does not mean that they are necessarily a consequentialist. As a way of showing the flaws in consequentialist responses to ethical problems, Scruton points out paradoxical elements of belief in utilitarianism and similar beliefs. He believes that Nozick's experience machine thought experiment definitively disproves hedonism. In his 2017 article The Trolley Problem and the Dropping of Atomic Bombs, Masahiro Morioka considers the dropping of atomic bombs as an example of the trolley problem and points out that there are five “problems of the trolley problem,” namely, 1) rarity, 2) inevitability, 3) safety zone, 4) possibility of becoming a victim, and 5) the lack of perspective of the dead victims who were deprived of freedom of choice.
In a 2018 article published in Psychological Review, researchers pointed out that, as measures of utilitarian decisions, sacrificial dilemmas such as the trolley problem measure only one facet of proto-utilitarian tendencies, namely permissive attitudes toward instrumental harm, while ignoring impartial concern for the greater good. As such, the authors argued that the trolley problem provides only a partial measure of utilitarianism.
Related problems
Trolley problems highlight the difference between deontological and consequentialist ethical systems.  The central question that these dilemmas bring to light is on whether or not it is right to actively inhibit the utility of an individual if doing so produces a greater utility for other individuals.
The basic Switch form of the trolley problem also supports comparison to other, related dilemmas:
The Fat Man
Resistance to this course of action seems strong; when asked, a majority of people will approve of pulling the switch to save a net of four lives, but will disapprove of pushing the fat man to save a net of four lives. This has led to attempts to find a relevant moral distinction between the two cases.
One possible distinction could be that in the first case, one does not intend harm towards anyone – harming the one is just a side effect of switching the trolley away from the five. However, in the second case, harming the one is an integral part of the plan to save the five. This solution is essentially an application of the doctrine of double effect, which says that one may take action that has bad side effects, but deliberately intending harm (even for good causes) is wrong. This is an argument which Shelly Kagan considers (and ultimately rejects) in his first book The Limits of Morality.
Implications for autonomous vehicles
Variants of the original Trolley Driver dilemma arise in the design of software to control autonomous cars. Situations are anticipated where a potentially fatal collision appears to be unavoidable, but in which choices made by the car's software, such as into whom or what to crash, can affect the particulars of the deadly outcome. For example, should the software value the safety of the car's occupants more, or less, than that of potential victims outside the car.
A platform called Moral Machine was created by MIT Media Lab to allow the public to express their opinions on what decisions autonomous vehicles should make in scenarios that use the trolley problem paradigm. Analysis of the data collected through Moral Machine showed broad differences in relative preferences among different countries. Other approaches make use of virtual reality to assess human behavior in experimental settings. However, some argue that the investigation of trolley-type cases is not necessary to address the ethical problem of driverless cars, because the trolley cases have a serious practical limitation. It would need to be top-down plan in order to fit the current approaches of addressing emergencies in artificial intelligence.
Also, a question remains of whether the law should dictate the ethical standards that all autonomous vehicles must use, or whether individual autonomous car owners or drivers should determine their car's ethical values, such as favoring safety of the owner or the owner's family over the safety of others. Although most people would not be willing to use an automated car that might sacrifice themselves in a life-or-death dilemma, some believe the somewhat counterintuitive claim that using mandatory ethics values would nevertheless be in their best interest. According to Gogoll and Müller, "the reason is, simply put, that [personalized ethics settings] would most likely result in a prisoner’s dilemma."
In 2016, the German government appointed a commission to study the ethical implications of autonomous driving. The commission adopted 20 rules to be implemented in the laws that will govern the ethical choices that autonomous vehicles will make.: 10–13  Relevant to the trolley dilemma is this rule:
Real-life incident
An actual case approximating the trolley-driver dilemma occurred on June 20, 2003, when a runaway string of 31 unmanned Union Pacific freight cars was barreling toward Los Angeles along the mainline track 1. To avoid the runaway train from entering the Union Pacific yards in Los Angeles, where it would not only cause damage but was also where a Metrolink passenger train was thought to be located, dispatchers ordered the shunting of the runaway cars to track 4, through an area with lower-density housing of mostly lower-income residents. The switch to track 4 was rated for 15 mph (24 km/h) transits, and dispatch knew the cars were moving significantly faster, thus likely causing a derailment. The train, carrying over 3,800 short tons (3,400 t) (just short of 3,500,000 kg) of mostly lumber and building materials, then derailed into the residential neighborhood in Commerce, California, crashing through several houses on Davie Street. The event resulted in 13 minor injuries, including a pregnant woman asleep in one of the houses who managed to escape through a window and avoided serious injury from the lumber and steel train wheels that fell around her.
In popular culture
Similar dilemmas have been proposed in science fiction stories, including in "The Cold Equations" (Tom Godwin, 1954), in which a pilot must decide whether to retain a stowaway, which would cause his ship to run out of fuel, or complete his mission to deliver vital medicine for six settlers.
A trolley problem experiment was conducted in season two, episode one of the YouTube Original series Mind Field, presented by Michael Stevens, but no paper was published on the findings.
The trolley problem forms the major plot premise of an episode from The Good Place, also named "The Trolley Problem", in which the immortal afterlife being Michael (Ted Danson) magically creates an extremely realistic simulation of the scenario in order to see how the ethics would actually play out. The trolley problem is referenced again in the eleventh episode of the second season, in which Michael concludes that the solution is self-sacrifice.
An attempt to consider the trolley problem appears in season three, episode fifteen, "The Game", of the science-fiction television series Stargate Atlantis. Rodney (David Hewlett) poses a situation of 10 people on one track and one person (a baby!) on the other. Teyla (Rachel Luttrell), Ronan (Jason Momoa), and John (Joe Flanigan) thwart his effort to conduct a hypothetical discussion by asking why the person who sees the train does not simply warn the people on the track, outrun the train and shove them off the track, or  "better yet, go get the baby"? 
The film Eye in the Sky centers around a similar dilemma – whether to bomb terrorists and save many, at the cost of the life of an innocent bystander. Dramatic production choices imply interesting comparisons. The life in question is a cute, socially responsible ten-year-old girl.
In September 2022, Japanese trading card game Yu-Gi-Oh! has announced a Trap Card named "Switch Point" with an effect to force the opponent to either sent one of their monster chosen by the player or the other monsters not chosen to the Graveyard. The card is themed after the "Train" series of monster in the game.