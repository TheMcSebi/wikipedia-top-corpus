Engine control unit
An engine control unit (ECU), also commonly called an engine control module (ECM), is a type of electronic control unit that controls a series of actuators on an internal combustion engine to ensure optimal engine performance. It does this by reading values from a multitude of sensors within the engine bay, interpreting the data using multidimensional performance maps (called lookup tables), and adjusting the engine actuators. Before ECUs, air–fuel mixture, ignition timing, and idle speed were mechanically set and dynamically controlled by mechanical and pneumatic means.
If the ECU has control over the fuel lines, then it is referred to as an electronic engine management system (EEMS). The fuel injection system has the major role of controlling the engine's fuel supply. The whole mechanism of the EEMS is controlled by a stack of sensors and actuators.
Workings
Control of air–fuel ratio
Most modern engines use some type of fuel injection to deliver fuel to the cylinders. The ECU determines the amount of fuel to inject based on a number of sensor readings. Oxygen sensors tell the ECU whether the engine is running rich (too much fuel or too little oxygen) or running lean (too much oxygen or too little fuel) as compared to ideal conditions (known as stoichiometric). The throttle position sensor tells the ECU how far the throttle plate is opened when the accelerator (gas pedal) is pressed down. The mass air flow sensor measures the amount of air flowing into the engine through the throttle plate. The engine coolant temperature sensor measures whether the engine is warmed up or cool. If the engine is still cool, additional fuel will be injected.
Air–fuel mixture control of carburettors with computers is designed with a similar principle, but a mixture control solenoid or stepper motor is incorporated in the float bowl of the carburettor.
Control of idle speed
Most engine systems have idle speed control built into the ECU. The engine RPM is monitored by the crankshaft position sensor, which plays a primary role in the engine timing functions for fuel injection, spark events, and valve timing. Idle speed is controlled by a programmable throttle stop or an idle air bypass control stepper motor. Early carburettor-based systems used a programmable throttle stop using a bidirectional DC motor. Early throttle body injection (TBI) systems used an idle air control stepper motor. Effective idle speed control must anticipate the engine load at idle.
A full authority throttle control system may be used to control idle speed and provide cruise control functions and top-speed limitation. It also monitors the ECU section for reliability.
Control of variable valve timing
Some engines have variable valve timing. In such an engine, the ECU controls the time in the engine cycle at which the valves open. The valves are usually opened sooner at higher speed than at lower speed. This can increase the flow of air into the cylinder, increasing power and fuel economy.
Electronic valve control
Experimental engines have been made and tested that have no camshaft, but have full electronic control of the intake and exhaust valve opening, valve closing, and area of the valve opening. Such engines can be started and run without a starter motor for certain multi-cylinder engines equipped with precision-timed electronic ignition and fuel injection. Such a static-start engine would provide the efficiency and pollution-reduction improvements of a mild hybrid-electric drive, but without the expense and complexity of an oversized starter motor.
The first production engine of this type was invented (in 2002) and introduced (in 2009) by Italian automaker Fiat in the Alfa Romeo MiTo. Their Multiair engines use electronic valve control, which dramatically improves torque and horsepower while reducing fuel consumption as much as 15%. Basically, the valves are opened by hydraulic pumps, which are operated by the ECU. The valves can open several times per intake stroke, based on engine load. The ECU then decides how much fuel should be injected to optimize combustion.
At steady load conditions, the valve opens, fuel is injected, and the valve closes.  Under a sudden increase in throttle, the valve opens in the same intake stroke and a greater amount of fuel is injected.  This allows immediate acceleration.  For the next stroke, the ECU calculates the engine load at the new, higher RPM and decides how to open the valve: early or late, wide-open, or half-open. The optimal opening and timing are always reached and combustion is as precise as possible. This is impossible with a normal camshaft, of course, which opens the valve for the whole intake period and always to full lift.
The elimination of cams, lifters, rockers, and timing set reduces not only weight and bulk, but also friction. A significant portion of the power that an engine actually produces is used up just driving the valve train, compressing all those valve springs thousands of times a minute.
Once more fully developed, electronic valve operation will yield even more benefits. Cylinder deactivation, for instance, could be made much more fuel efficient if the intake valve could be opened on every downstroke and the exhaust valve opened on every upstroke of the deactivated cylinder or "dead hole". Another even more significant advancement will be the elimination of the conventional throttle. When a car is run at part throttle, this interruption in the airflow causes excess vacuum, which causes the engine to use up valuable energy acting as a vacuum pump. BMW attempted to get around this on their V-10 powered M5, which had individual throttle butterflies for each cylinder, placed just before the intake valves. With electronic valve operation, it will be possible to control engine speed by regulating valve lift. At part throttle, when less air and gas are needed, the valve lift would not be as great. Full throttle is achieved when the gas pedal is depressed, sending an electronic signal to the ECU, which in turn regulates the lift of each valve event, and opens it up all the way.
Programmability
A special category of ECUs are those which are programmable; these units can be reprogrammed by the user.
When modifying an engine to include aftermarket or upgrade components, stock ECUs may not be able to provide the correct type of control for the application(s) in which the engine may be used. To accommodate for engine modifications, a programmable ECU can be used in place of the factory-shipped ECU. Typical modifications that may require an ECU upgrade can include turbocharging, supercharging, or both, a naturally aspirated engine; fuel injection or spark plug upgrades, exhaust system modifications or upgrades, transmission upgrades, and so on. Programming an ECU typically requires interfacing the unit with a desktop or laptop computer; this interfacing is required so the programming computer can send complete engine tunings to the engine control unit as well as monitor the conditions of the engine in realtime. Connection typically used in this interface are either USB or serial.
By modifying these values while monitoring the exhausts using a wide band lambda probe, engine tuning specialists can determine the optimal fuel flow specific to the engine speed's and throttle position. This process is often carried out at an engine performance facility. A dynamometer is typically found at these locations; these devices can provide engine tuning specialist useful information such as engine speed, power output, torque output, gear change events, and so on. Tuning specialists often utilize a chassis dynamometer for street and other high performance applications.
Engine tuning parameters may include fuel injection volume, throttle-fuel volume mapping, gear shift mapping, and so forth. While the mentioned parameters are common, some ECUs may provide other variables in which a tuning software could potentially modify. These parameters include:
A race-grade ECU is often equipped with a data logger to record all sensor data for later analysis. This can be useful for identifying engine stalls, misfires or other undesired behaviors during a race. The data logger usually has a capacity between 0.5 and 16 megabytes.
In order to communicate with the driver, a race ECU can often be connected to a "data stack", which is a simple dashboard presenting the driver with the current RPM, speed and other basic engine data. These data stacks, which are almost always digital, talk to the ECU using one of several protocols including RS-232 or CANbus. Information is then relayed through the Data Link interface that usually located on the underneath of the steering column.
Sensors
Sensors for air flow, pressure, temperature, speed, exhaust oxygen, * knock and crank angle position sensor makes a very vital impact in EEMS.
sensors
History
Early designs
One of the earliest attempts to use such a unitized and automated device to manage multiple engine control functions simultaneously was the Kommandogerät created by BMW in 1939, for their 801 14-cylinder aviation radial engine. This device replaced the 6 controls used to initiate hard acceleration with one control in the 801 series-equipped aircraft. However, it had some problems: it would surge the engine, making close formation flying of the Fw 190 (Focke-Wulf Fw 190 Wurger), a single-engine single-seat German fighter aircraft, somewhat difficult, and at first it switched supercharger gears harshly and at random, which could throw the aircraft into an extremely dangerous stall.
The development of integrated circuits and microprocessors made engine control economically feasible in the 1970s. In the early 1970s, the Japanese electronics industry began producing integrated circuits and microcontrollers for engine control in Japanese automobiles. The Ford EEC (Electronic Engine Control) system, which utilized the Toshiba TLCS-12 microprocessor, went into mass production in 1975.
Hybrid digital designs
Hybrid digital or analog designs were popular in the mid-1980s. This used analog techniques to measure and process input parameters from the engine, then used a lookup table stored in a digital ROM chip to yield precomputed output values. Later systems compute these outputs dynamically. The ROM type of system is amenable to tuning if one knows the system well. The disadvantage of such systems is that the precomputed values are only optimal for an idealised, new engine. As the engine wears, the system may be less able to compensate compared to other designs.
Modern design
Modern ECUs use a microprocessor which can process the inputs from the engine sensors in real-time. An electronic control unit contains the hardware and software (firmware). The hardware consists of electronic components on a printed circuit board (PCB), ceramic substrate or a thin laminate substrate. The main component on this circuit board is a microcontroller chip (MCU). The software is stored in the microcontroller or other chips on the PCB., typically in EPROMs or flash memory so the CPU can be re-programmed by uploading updated code or replacing chips. This is also referred to as an (electronic) Engine Management System (EMS).
Sophisticated engine management systems receive inputs from other sources, and control other parts of the engine; for instance, some variable valve timing systems are electronically controlled, and turbocharger waste gates can also be managed. They also may communicate with transmission control units or directly interface electronically controlled automatic transmissions, traction control systems, and the like. The Controller Area Network or CAN bus automotive network is often used to achieve communication between these devices.
Modern ECUs sometimes include features such as cruise control, transmission control, anti-skid brake control, and anti-theft control, etc.
General Motors' (GM) first ECUs had a small application of hybrid digital ECUs as a pilot program in 1979, but by 1980, all active programs were using microprocessor based systems. Due to the large ramp up of volume of ECUs that were produced to meet the Clean Air Act requirements for 1981, only one ECU model could be built for the 1981 model year. The high volume ECU that was installed in GM vehicles from the first high volume year, 1981, onward was a modern microprocessor based system. GM moved rapidly to replace carburation with fuel injection as the preferred method of fuel delivery for vehicles it manufactured. This process first saw fruition in 1980 with fuel injected Cadillac engines, followed by the Pontiac 2.5L I4 "Iron Duke" and the Chevrolet 5.7L V8 L83 "Cross-Fire" engine powering the Chevrolet Corvette in 1982. The 1990 Cadillac Brougham powered by the Oldsmobile 5.0L V8 LV2 engine was the last carbureted passenger car manufactured for sale in the North American market (a 1992 Volkswagen Beetle model powered by a carbureted engine was available for purchase in Mexico but not offered for sale in the United States or Canada) and by 1991 GM was the last of the major US and Japanese automakers to abandon carburetion and manufacture all of its passenger cars exclusively with fuel injected engines. In 1988 Delco (GM's electronics division), had produced more than 28,000 ECUs per day, making it the world's largest producer of on-board digital control computers at the time.
Other applications
Such systems are used for many internal combustion engines in other applications. In aeronautical applications, the systems are known as "FADECs" (Full Authority Digital Engine Controls). This kind of electronic control is less common in piston-engined light fixed-wing aircraft and helicopters than in automobiles. This is due to the common configuration of a carbureted engine with a magneto ignition system that does not require electrical power generated by an alternator to run, which is considered a safety advantage.