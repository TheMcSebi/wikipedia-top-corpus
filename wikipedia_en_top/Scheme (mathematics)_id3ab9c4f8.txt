Scheme (mathematics)
In mathematics, a scheme is a mathematical structure that enlarges the notion of algebraic variety in several ways, such as taking account of multiplicities (the equations x = 0 and x2 = 0 define the same algebraic variety but different schemes) and allowing "varieties" defined over any commutative ring (for example, Fermat curves are defined over the integers).
Scheme theory was introduced by Alexander Grothendieck in 1960 in his treatise "Éléments de géométrie algébrique"; one of its aims was developing the formalism needed to solve deep problems of algebraic geometry, such as the Weil conjectures (the last of which was proved by Pierre Deligne). Strongly based on commutative algebra, scheme theory allows a systematic use of methods of topology and homological algebra. Scheme theory also unifies algebraic geometry with much of number theory, which eventually led to Wiles's proof of Fermat's Last Theorem.
Formally, a scheme is a topological space together with commutative rings for all of its open sets, which arises from gluing together spectra (spaces of prime ideals) of commutative rings along their open subsets. In other words, it is a ringed space which is locally a spectrum of a commutative ring.
The relative point of view is that much of algebraic geometry should be developed for a morphism X → Y of schemes (called a scheme X over Y), rather than for an individual scheme. For example, in studying algebraic surfaces, it can be useful to consider families of algebraic surfaces over any scheme Y. In many cases, the family of all varieties of a given type can itself be viewed as a variety or scheme, known as a moduli space.
For some of the detailed definitions in the theory of schemes, see the glossary of scheme theory.
Development
The origins of algebraic geometry mostly lie in the study of polynomial equations over the real numbers. By the 19th century, it became clear (notably in the work of Jean-Victor Poncelet and Bernhard Riemann) that algebraic geometry was simplified by working over the field of complex numbers, which has the advantage of being algebraically closed. Two issues gradually drew attention in the early 20th century, motivated by problems in number theory: how can algebraic geometry be developed over any algebraically closed field, especially in positive characteristic? (The tools of topology and complex analysis used to study complex varieties do not seem to apply here.) And what about algebraic geometry over an arbitrary field?
Hilbert's Nullstellensatz suggests an approach to algebraic geometry over any algebraically closed field k: the maximal ideals in the polynomial ring k[x1,...,xn] are in one-to-one correspondence with the set kn of n-tuples of elements of k, and the prime ideals correspond to the irreducible algebraic sets in kn, known as affine varieties. Motivated by these ideas, Emmy Noether and Wolfgang Krull developed the subject of commutative algebra in the 1920s and 1930s. Their work generalizes algebraic geometry in a purely algebraic direction: instead of studying the prime ideals in a polynomial ring, one can study the prime ideals in any commutative ring. For example, Krull defined the dimension of any commutative ring in terms of prime ideals. At least when the ring is Noetherian, he proved many of the properties one would want from the geometric notion of dimension.
Noether and Krull's commutative algebra can be viewed as an algebraic approach to affine algebraic varieties. However, many arguments in algebraic geometry work better for projective varieties, essentially because projective varieties are compact. From the 1920s to the 1940s, B. L. van der Waerden, André Weil and Oscar Zariski applied commutative algebra as a new foundation for algebraic geometry in the richer setting of projective (or quasi-projective) varieties. In particular, the Zariski topology is a useful topology on a variety over any algebraically closed field, replacing to some extent the classical topology on a complex variety (based on the topology of the complex numbers).
For applications to number theory, van der Waerden and Weil formulated algebraic geometry over any field, not necessarily algebraically closed. Weil was the first to define an abstract variety (not embedded in projective space), by gluing affine varieties along open subsets, on the model of manifolds in topology. He needed this generality for his construction of the Jacobian variety of a curve over any field. (Later, Jacobians were shown to be projective varieties by Weil, Chow and Matsusaka.)
The algebraic geometers of the Italian school had often used the somewhat foggy concept of the generic point of an algebraic variety. What is true for the generic point is true for "most" points of the variety. In Weil's Foundations of Algebraic Geometry (1946), generic points are constructed by taking points in a very large algebraically closed field, called a universal domain. Although this worked as a foundation, it was awkward: there were many different generic points for the same variety. (In the later theory of schemes, each algebraic variety has a single generic point.)
In the 1950s, Claude Chevalley, Masayoshi Nagata and Jean-Pierre Serre, motivated in part by the Weil conjectures relating number theory and algebraic geometry, further extended the objects of algebraic geometry, for example by generalizing the base rings allowed. The word scheme was first used in the 1956 Chevalley Seminar, in which Chevalley was pursuing Zariski's ideas. According to Pierre Cartier, it was André Martineau who suggested to Serre the possibility of using the spectrum of an arbitrary commutative ring as a foundation for algebraic geometry.
Origin of schemes
Grothendieck then gave the decisive definition of a scheme, bringing to a conclusion a generation of experimental suggestions and partial developments. He defined the spectrum X of a commutative ring R as the space of prime ideals of R with a natural topology (known as the Zariski topology), but augmented it with a sheaf of rings: to every open subset U he assigned a commutative ring OX(U). These objects Spec(R) are the affine schemes; a general scheme is then obtained by "gluing together" affine schemes.
Much of algebraic geometry focuses on projective or quasi-projective varieties over a field k; in fact, k is often taken to be the complex numbers. Schemes of that sort are very special compared to arbitrary schemes; compare the examples below. Nonetheless, it is convenient that Grothendieck developed a large body of theory for arbitrary schemes. For example, it is common to construct a moduli space first as a scheme, and only later study whether it is a more concrete object such as a projective variety. Also, applications to number theory rapidly lead to schemes over the integers which are not defined over any field.
Definition
An affine scheme is a locally ringed space isomorphic to the spectrum Spec(R) of a commutative ring R. A scheme is a locally ringed space X admitting a covering by open sets Ui, such that each Ui (as a locally ringed space)  is an affine scheme. In particular, X comes with a sheaf OX, which assigns to every open subset U a commutative ring OX(U) called the ring of regular functions on U. One can think of a scheme as being covered by "coordinate charts" which are affine schemes. The definition means exactly that schemes are obtained by gluing together affine schemes using the Zariski topology.
In the early days, this was called a prescheme, and a scheme was defined to be a separated prescheme.  The term prescheme has fallen out of use, but can still be found in older books, such as Grothendieck's "Éléments de géométrie algébrique" and Mumford's "Red Book".
A basic example of an affine scheme is affine n-space over a field k, for a natural number n. By definition, Ank is the spectrum of the polynomial ring k[x1,...,xn]. In the spirit of scheme theory, affine n-space can in fact be defined over any commutative ring R, meaning Spec(R[x1,...,xn]).
The category of schemes
Schemes form a category, with morphisms defined as morphisms of locally ringed spaces. (See also: morphism of schemes.) For a scheme Y, a scheme X over Y (or a Y-scheme) means a morphism X → Y of schemes. A scheme X over a commutative ring R means a morphism X → Spec(R).
An algebraic variety over a field k can be defined as a scheme over k with certain properties. There are different conventions about exactly which schemes should be called varieties. One standard choice is that a variety over k means an integral separated scheme of finite type over k.
A morphism f: X → Y of schemes determines a pullback homomorphism on the rings of regular functions, f*: O(Y) → O(X). In the case of affine schemes, this construction gives a one-to-one correspondence between morphisms Spec(A) → Spec(B) of schemes and ring homomorphisms B → A. In this sense, scheme theory completely subsumes the theory of commutative rings.
Since Z is an initial object in the category of commutative rings, the category of schemes has Spec(Z) as a terminal object.
For a scheme X over a commutative ring R, an R-point of X means a section of the morphism X → Spec(R). One writes X(R) for the set of R-points of X. In examples, this definition reconstructs the old notion of the set of solutions of the defining equations of X with values in R. When R is a field k, X(k) is also called the set of k-rational points of X.
More generally, for a scheme X over a commutative ring R and any commutative R-algebra S, an S-point of X means a morphism Spec(S) → X over R. One writes X(S) for the set of S-points of X. (This generalizes the old observation that given some equations over a field k, one can consider the set of solutions of the equations in any field extension E of k.) For a scheme X over R, the assignment S ↦ X(S) is a functor from commutative R-algebras to sets. It is an important observation that a scheme X over R is determined by this functor of points.
The fiber product of schemes always exists. That is, for any schemes X and Z with morphisms to a scheme Y, the fiber product X×YZ (in the sense of category theory) exists in the category of schemes. If X and Z are schemes over a field k, their fiber product over Spec(k) may be called the product X × Z in the category of k-schemes. For example, the product of affine spaces Am and An over k is affine space Am+n over k.
Since the category of schemes has fiber products and also a terminal object Spec(Z), it has all finite limits.
Examples
Here and below, all the rings considered are commutative:
Examples of morphisms
It is also fruitful to consider examples of morphisms as examples of schemes since they demonstrate their technical effectiveness for encapsulating many objects of study in algebraic and arithmetic geometry.
Arithmetic surfaces

If we consider a polynomial $MATH$ then the affine scheme $MATH$ has a canonical morphism to $MATH$ and is called an Arithmetic surface. The fibers $MATH$ are then algebraic curves over the finite fields $MATH$. If $MATH$ is an Elliptic curve then the fibers over its discriminant locus generated by $MATH$ where 
 are all singular schemes. For example, if $MATH$ is a prime number and 
 then its discriminant is $MATH$. In particular, this curve is singular over the prime numbers $MATH$.
Motivation for schemes
Here are some of the ways in which schemes go beyond older notions of algebraic varieties, and their significance.
Coherent sheaves
A central part of scheme theory is the notion of coherent sheaves, generalizing the notion of (algebraic) vector bundles. For a scheme X, one starts by considering the abelian category of OX-modules, which are sheaves of abelian groups on X that form a module over the sheaf of regular functions OX. In particular, a module M over a commutative ring R determines an associated OX-module ~M on X = Spec(R). A quasi-coherent sheaf on a scheme X means an OX-module that is the sheaf associated to a module on each affine open subset of X. Finally, a coherent sheaf (on a Noetherian scheme X, say) is an OX-module that is the sheaf associated to a finitely generated module on each affine open subset of X.
Coherent sheaves include the important class of vector bundles, which are the sheaves that locally come from finitely generated free modules. An example is the tangent bundle of a smooth variety over a field. However, coherent sheaves are richer; for example, a vector bundle on a closed subscheme Y of X can be viewed as a coherent sheaf on X which is zero outside Y (by the direct image construction). In this way, coherent sheaves on a scheme X include information about all closed subschemes of X. Moreover, sheaf cohomology has good properties for coherent (and quasi-coherent) sheaves. The resulting theory of coherent sheaf cohomology is perhaps the main technical tool in algebraic geometry.
Generalizations
Considered as its functor of points, a scheme is a functor which is a sheaf of sets for the Zariski topology on the category of commutative rings, and which, locally in the Zariski topology, is an affine scheme. This can be generalized in several ways.  One is to use the étale topology. Michael Artin defined an algebraic space as a functor which is a sheaf in the étale topology and which, locally in the étale topology, is an affine scheme. Equivalently, an algebraic space is the quotient of a scheme by an étale equivalence relation. A powerful result, the Artin representability theorem, gives simple conditions for a functor to be represented by an algebraic space.
A further generalization is the idea of a stack. Crudely speaking, algebraic stacks generalize algebraic spaces by having an algebraic group attached to each point, which is viewed as the automorphism group of that point. For example, any action of an algebraic group G on an algebraic variety X determines a quotient stack [X/G], which remembers the stabilizer subgroups for the action of G. More generally, moduli spaces in algebraic geometry are often best viewed as stacks, thereby keeping track of the automorphism groups of the objects being classified.
Grothendieck originally introduced stacks as a tool for the theory of descent. In that formulation, stacks are (informally speaking) sheaves of categories. From this general notion, Artin defined the narrower class of algebraic stacks (or "Artin stacks"), which can be considered geometric objects. These include Deligne–Mumford stacks (similar to orbifolds in topology), for which the stabilizer groups are finite, and algebraic spaces, for which the stabilizer groups are trivial. The Keel–Mori theorem says that an algebraic stack with finite stabilizer groups has a coarse moduli space which is an algebraic space.
Another type of generalization is to enrich the structure sheaf, bringing algebraic geometry closer to homotopy theory. In this setting, known as derived algebraic geometry or "spectral algebraic geometry", the structure sheaf is replaced by a homotopical analog of a sheaf of commutative rings (for example, a sheaf of E-infinity ring spectra). These sheaves admit algebraic operations which are associative and commutative only up to an equivalence relation. Taking the quotient by this equivalence relation yields the structure sheaf of an ordinary scheme. Not taking the quotient, however, leads to a theory which can remember higher information, in the same way that derived functors in homological algebra yield higher information about operations such as tensor product and the Hom functor on modules.