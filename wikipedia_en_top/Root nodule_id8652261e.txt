Root nodule
Root nodules are found on the roots of plants, primarily legumes, that form a symbiosis with nitrogen-fixing bacteria. Under nitrogen-limiting conditions, capable plants form a symbiotic relationship with a host-specific strain of bacteria known as rhizobia. This process has evolved multiple times within the legumes, as well as in other species found within the Rosid clade. Legume crops include beans, peas, and soybeans.
Within legume root nodules, nitrogen gas (N2) from the atmosphere is converted into ammonia (NH3), which is then assimilated into amino acids (the building blocks of proteins), nucleotides (the building blocks of DNA and RNA as well as the important energy molecule ATP), and other cellular constituents such as vitamins, flavones, and hormones. Their ability to fix gaseous nitrogen makes legumes an ideal agricultural organism as their requirement for nitrogen fertilizer is reduced. Indeed, high nitrogen content blocks nodule development as there is no benefit for the plant of forming the symbiosis. The energy for splitting the nitrogen gas in the nodule comes from sugar that is translocated from the leaf (a product of photosynthesis). Malate as a breakdown product of sucrose is the direct carbon source for the bacteroid. Nitrogen fixation in the nodule is very oxygen sensitive. Legume nodules harbor an iron containing protein called leghaemoglobin, closely related to animal myoglobin, to facilitate the diffusion of oxygen gas used in respiration.
Symbiosis
Leguminous family
Plants that contribute to N2 fixation include the legume family – Fabaceae – with taxa such as kudzu, clovers, soybeans, alfalfa, lupines, peanuts, and rooibos. They contain symbiotic bacteria called rhizobia within the nodules, producing nitrogen compounds that help the plant to grow and compete with other plants. When the plant dies, the fixed nitrogen is released, making it available to other plants, and this helps to fertilize the soil. The great majority of legumes have this association, but a few genera (e.g., Styphnolobium) do not. In many traditional farming practices, fields are rotated through various types of crops, which usually includes one consisting mainly or entirely of a leguminous crop such as clover, in order to take advantage of this.
Non-leguminous
Although by far the majority of plants able to form nitrogen-fixing root nodules are in the legume family Fabaceae, there are a few exceptions:
The ability to fix nitrogen is far from universally present in these families. For instance, of 122 genera in the Rosaceae, only 4 genera are capable of fixing nitrogen. All these families belong to the orders Cucurbitales, Fagales, and Rosales, which together with the Fabales form a nitrogen-fixing clade (NFC) of eurosids. In this clade, Fabales were the first lineage to branch off; thus, the ability to fix nitrogen may be plesiomorphic and subsequently lost in most descendants of the original nitrogen-fixing plant; however, it may be that the basic genetic and physiological requirements were present in an incipient state in the last common ancestors of all these plants, but only evolved to full function in some of them:
Classification
Two main types of nodule have been described in legumes: determinate and indeterminate.
Determinate nodules are found on certain tribes of tropical legume such as those of the genera Glycine (soybean), Phaseolus (common bean), and Vigna. and on some temperate legumes such as  Lotus. These determinate nodules lose meristematic activity shortly after initiation, thus growth is due to cell expansion resulting in mature nodules which are spherical in shape. Another type of determinate nodule is found in a wide range of herbs, shrubs and trees, such as  Arachis (peanut). These are always associated with the axils of lateral or adventitious roots and are formed following infection via cracks where these roots emerge and not using root hairs. Their internal structure is quite different from those of the soybean type of nodule.
Indeterminate nodules are found in the majority of legumes from all three sub-families, whether in temperate regions or in the tropics.  They can be seen in  Faboideae legumes such as Pisum (pea), Medicago (alfalfa), Trifolium (clover), and Vicia (vetch)  and all mimosoid legumes such as acacias,  the few nodulated caesalpinioid legumes such as partridge pea. They earned the name "indeterminate" because they maintain an active apical meristem that produces new cells for growth over the life of the nodule. This results in the nodule having a generally cylindrical shape, which may be extensively branched. Because they are actively growing, indeterminate nodules manifest zones which demarcate different stages of development/symbiosis:
This is the most widely studied type of nodule, but the details are quite different in nodules of peanut and relatives and some other important crops such as lupins where the nodule is formed following direct infection of rhizobia through the epidermis and where infection threads are never formed. Nodules grow around the root, forming a collar-like structure.  In these nodules and in the peanut type the central infected tissue is uniform, lacking the uninfected ells seen in nodules of soybean and many indeterminate types such as peas and clovers.
Actinorhizal-type nodules are markedly different structures found in non-legumes. In this type, cells derived from the root cortex form the infected tissue, and the prenodule becomes part of the mature nodule. Despite this seemingly major difference, it is possible to produce such nodules in legumes by a single homeotic mutation.
Nodulation
Legumes release organic compounds as secondary metabolites called flavonoids from their roots, which attract the rhizobia to them and which also activate nod genes in the bacteria to produce nod factors and initiate nodule formation.  These nod factors initiate root hair curling. The curling begins with the very tip of the root hair curling around the Rhizobium.  Within the root tip, a small tube called the infection thread forms, which provides a pathway for the Rhizobium to travel into the root epidermal cells as the root hair continues to curl.
Partial curling can even be achieved by nod factor alone. This was demonstrated by the isolation of nod factors and their application to parts of the root hair.  The root hairs curled in the direction of the application, demonstrating the action of a root hair attempting to curl around a bacterium.  Even application on lateral roots caused curling.  This demonstrated that it is the nod factor itself, not the bacterium that causes the stimulation of the curling.
When the nod factor is sensed by the root, a number of biochemical and morphological changes happen: cell division is triggered in the root to create the nodule, and the root hair growth is redirected to curl around the bacteria multiple times until it fully encapsulates one or more bacteria. The bacteria encapsulated divide multiple times, forming a microcolony. From this microcolony, the bacteria enter the developing nodule through the infection thread, which grows through the root hair into the basal part of the epidermis cell, and onwards into the root cortex; they are then surrounded by a plant-derived symbiosome membrane and differentiate into bacteroids that fix nitrogen.
Effective nodulation takes place approximately four weeks after crop planting, with the size, and shape of the nodules dependent on the crop. Crops such as soybeans, or peanuts will have larger nodules than forage legumes such as red clover, or alfalfa, since their nitrogen needs are higher. The number of nodules, and their internal color, will indicate the status of nitrogen fixation in the plant.
Nodulation is controlled by a variety of processes, both external (heat, acidic soils, drought, nitrate) and internal (autoregulation of nodulation, ethylene). Autoregulation of nodulation controls nodule numbers per plant through a systemic process involving the leaf. Leaf tissue senses the early nodulation events in the root through an unknown chemical signal, then restricts further nodule development in newly developing root tissue. The Leucine rich repeat (LRR) receptor kinases (NARK in soybean (Glycine max); HAR1 in Lotus japonicus, SUNN in Medicago truncatula) are essential for autoregulation of nodulation (AON). Mutation leading to loss of function in these AON receptor kinases leads to supernodulation or hypernodulation. Often root growth abnormalities accompany the loss of AON receptor kinase activity, suggesting that nodule growth and root development are functionally linked. Investigations into the mechanisms of nodule formation showed that the ENOD40 gene, coding for a 12–13 amino acid protein [41], is up-regulated during nodule formation [3].
Connection to root structure
Root nodules apparently have evolved three times within the Fabaceae but are rare outside that family. The propensity of these plants to develop root nodules seems to relate to their root structure. In particular, a tendency to develop lateral roots in response to abscisic acid may enable the later evolution of root nodules.
Nodule-like structures
Some fungi produce nodular structures known as tuberculate ectomycorrhizae on the roots of their plant hosts.  Suillus tomentosus, for example, produces these structures with its plant host lodgepole pine (Pinus contorta var. latifolia).  These structures have in turn been shown to host nitrogen fixing bacteria which contribute a significant amount of nitrogen and allow the pines to colonize nutrient-poor sites.