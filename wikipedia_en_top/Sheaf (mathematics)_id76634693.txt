Sheaf (mathematics)
In mathematics, a sheaf is a tool for systematically tracking data (such as  sets, abelian groups,  rings) attached to the open sets of a topological space and defined locally with regard to them. For example, for each open set, the data could be the ring of  continuous functions defined on that open set. Such data is well behaved in that it can be restricted to smaller open sets, and also the data assigned to an open set is equivalent to all collections of compatible data assigned to collections of smaller open sets covering the original open set (intuitively, every piece of data is the sum of its parts).
The field of mathematics that studies sheaves is called sheaf theory.
Sheaves are understood conceptually as general and abstract  objects. Their correct definition is rather technical. They are specifically defined as sheaves of sets or as  sheaves of rings, for example, depending on the type of data assigned to the open sets.
There are also maps (or morphisms) from one sheaf to another; sheaves (of a specific type, such as sheaves of abelian groups) with their morphisms on a fixed topological space form a category. On the other hand, to each continuous map there is associated both a direct image functor, taking sheaves and their morphisms on the domain to sheaves and morphisms on the codomain, and an inverse image functor operating in the opposite direction. These functors, and certain variants of them, are essential parts of sheaf theory.
Due to their general nature and versatility, sheaves have several applications in topology and especially in  algebraic and differential geometry. First, geometric structures such as that of a differentiable manifold or a scheme can be expressed in terms of a sheaf of rings on the space. In such contexts, several geometric constructions such as vector bundles or divisors are naturally specified in terms of sheaves. Second, sheaves provide the framework for a very general  cohomology theory, which encompasses also the "usual" topological cohomology theories such as singular cohomology. Especially in algebraic geometry and the theory of complex manifolds, sheaf cohomology provides a powerful link between topological and geometric properties of spaces. Sheaves also provide the basis for the theory of  D-modules, which provide applications to the theory of differential equations. In addition, generalisations of sheaves to more general settings than topological spaces, such as Grothendieck topology, have provided applications to mathematical logic and to number theory.
Definitions and examples
In many mathematical branches, several structures defined on a topological space $MATH$ (e.g., a differentiable manifold) can be naturally localised or restricted to open subsets $MATH$: typical examples include continuous real-valued or complex-valued functions, $MATH$-times differentiable (real-valued or complex-valued) functions, bounded real-valued functions, vector fields, and sections of any vector bundle on the space. The ability to restrict data to smaller open subsets gives rise to the concept of presheaves. Roughly speaking, sheaves are then those presheaves, where local data can be glued to global data.
Presheaves
Let $MATH$ be a topological space. A presheaf of sets $MATH$ on $MATH$ consists of the following data:
The restriction morphisms are required to satisfy two additional (functorial) properties:
Informally, the second axiom says it doesn't matter whether we restrict to W in one step or restrict first to V, then to W. A concise functorial reformulation of this definition is given further below.
Many examples of presheaves come from different classes of functions: to any $MATH$, one can assign the set $MATH$ of continuous real-valued functions on $MATH$. The restriction maps are then just given by restricting a continuous function on $MATH$ to a smaller open subset $MATH$, which again is a continuous function. The two presheaf axioms are immediately checked, thereby giving an example of a presheaf. This can be extended to a sheaf of holomorphic functions $MATH$ and a sheaf of smooth functions $MATH$.
Another common class of examples is assigning to $MATH$ the set of constant real-valued functions on $MATH$. This presheaf is called the constant presheaf associated to $MATH$ and is denoted $MATH$.
Sheaves
Given a presheaf, a natural question to ask is to what extent its sections over an open set $MATH$ are specified by their restrictions to smaller open sets $MATH$ of an open cover $MATH$ of $MATH$. A sheaf is a presheaf that satisfies both of the following two additional axioms:
The section $MATH$ whose existence is guaranteed by axiom 2 is called the gluing, concatenation, or collation of the sections si. By axiom 1 it is unique. Sections $MATH$ and $MATH$ satisfying the agreement precondition of axiom 2 are often called compatible; thus axioms 1 and 2 together state that any collection of pairwise compatible sections can be uniquely glued together. A separated presheaf, or monopresheaf, is a presheaf satisfying axiom 1.
The presheaf consisting of continuous functions mentioned above is a sheaf. This assertion reduces to checking that, given continuous functions $MATH$ which agree on the intersections $MATH$, there is a unique continuous function $MATH$ whose restriction equals the $MATH$. By contrast, the constant presheaf is usually not a sheaf as it fails to satisfy the locality axiom on the empty set (this is explained in more detail at constant sheaf).
Presheaves and sheaves are typically denoted by capital letters, $MATH$ being particularly common, presumably for the French word for sheaf, faisceau. Use of calligraphic letters such as $MATH$ is also common.
It can be shown that to specify a sheaf, it is enough to specify its restriction to the open sets of a basis for the topology of the underlying space. Moreover, it can also be shown that it is enough to verify the sheaf axioms above relative to the open sets of a covering. This observation is used to construct another example which is crucial in algebraic geometry, namely quasi-coherent sheaves. Here the topological space in question is the spectrum of a commutative ring $MATH$, whose points are the prime ideals $MATH$ in $MATH$. The open sets $MATH$ form a basis for the Zariski topology on this space. Given an $MATH$-module $MATH$, there is a sheaf, denoted by $MATH$ on the Spec $MATH$, that satisfies


There is another characterization of sheaves that is equivalent to the previously discussed.
A presheaf $MATH$ is a sheaf if and only if for any open $MATH$ and any open cover $MATH$ of $MATH$, $MATH$ is the fibre product $MATH$. This characterization is useful in construction of sheaves, for example, if $MATH$ are abelian sheaves, then the kernel of sheaves morphism $MATH$ is a sheaf, since projective limits commutes with projective limits. On the other hand, without consider any examples, the cokernel is not always a sheaf because inductive limit not necessarily commutes with projective limits. One of the way to fix this is to consider Noetherian topological spaces; every open sets are compact so that the cokernel is a sheaf, since finite projective limits commutes with inductive limits.
Sheaf of sections of a continuous map
Any continuous map $MATH$ of topological spaces determines a sheaf $MATH$ on $MATH$ by setting
Any such $MATH$ is commonly called a section of $MATH$, and this example is the reason why the elements in $MATH$ are generally called sections. This construction is especially important when $MATH$ is the projection of a fiber bundle onto its base space. For example, the sheaves of smooth functions are the sheaves of sections of the trivial bundle. Another example: the sheaf of sections of
is the sheaf which assigns to any $MATH$ the set of branches of the complex logarithm on $MATH$.
Given a point $MATH$ and an abelian group $MATH$, the skyscraper sheaf $MATH$ is defined as follows: if $MATH$ is an open set containing $MATH$, then $MATH$.  If $MATH$ does not contain $MATH$, then $MATH$, the trivial group.  The restriction maps are either the identity on $MATH$, if both open sets contain $MATH$, or the zero map otherwise.
Sheaves on manifolds
On an $MATH$-dimensional $MATH$-manifold $MATH$, there are a number of important sheaves, such as the sheaf of $MATH$-times continuously differentiable functions $MATH$ (with $MATH$). Its sections on some open $MATH$ are the $MATH$-functions $MATH$. For $MATH$, this sheaf is called the structure sheaf and is denoted $MATH$. The nonzero $MATH$ functions also form a sheaf, denoted $MATH$. Differential forms (of degree $MATH$) also form a sheaf $MATH$. In all these examples, the restriction morphisms are given by restricting functions or forms.
The assignment sending $MATH$ to the compactly supported functions on $MATH$ is not a sheaf, since there is, in general, no way to preserve this property by passing to a smaller open subset. Instead, this forms a cosheaf, a dual concept where the restriction maps go in the opposite direction than with sheaves. However, taking the dual of these vector spaces does give a sheaf, the sheaf of distributions.
Presheaves that are not sheaves
In addition to the constant presheaf mentioned above, which is usually not a sheaf, there are further examples of presheaves that are not sheaves:
Motivating sheaves from complex analytic spaces and algebraic geometry
One of the historical motivations for sheaves have come from studying complex manifolds, complex analytic geometry, and scheme theory from algebraic geometry. This is because in all of the previous cases, we consider a topological space $MATH$ together with a structure sheaf $MATH$ giving it the structure of a complex manifold, complex analytic space, or scheme. This perspective of equipping a topological space with a sheaf is essential to the theory of locally ringed spaces (see below).
Technical challenges with complex manifolds

One of the main historical motivations for introducing sheaves was constructing a device which keeps track of holomorphic functions on complex manifolds. For example, on a compact complex manifold $MATH$ (like complex projective space or the vanishing locus of a homogeneous polynomial), the only holomorphic functions
are the constant functions. This means there could exist two compact complex manifolds $MATH$ which are not isomorphic, but nevertheless their ring of global holomorphic functions, denoted $MATH$, are isomorphic. Contrast this with smooth manifolds where every manifold $MATH$ can be embedded inside some $MATH$, hence its ring of smooth functions $MATH$ comes from restricting the smooth functions from $MATH$. Another complexity when considering the ring of holomorphic functions on a complex manifold $MATH$ is given a small enough open set $MATH$, the holomorphic functions will be isomorphic to $MATH$. Sheaves are a direct tool for dealing with this complexity since they make it possible to keep track of the holomorphic structure on the underlying topological space of $MATH$ on arbitrary open subsets $MATH$. This means as $MATH$ becomes more complex topologically, the ring $MATH$ can be expressed from gluing the $MATH$. Note that sometimes this sheaf is denoted $MATH$ or just $MATH$, or even $MATH$ when we want to emphasize the space the structure sheaf is associated to.
Tracking submanifolds with sheaves
Another common example of sheaves can be constructed by considering a complex submanifold $MATH$. There is an associated sheaf $MATH$ which takes an open subset $MATH$ and gives the ring of holomorphic functions on $MATH$. This kind of formalism was found to be extremely powerful and motivates a lot of homological algebra such as sheaf cohomology since an intersection theory can be built using these kinds of sheaves from the Serre intersection formula.
Operations with sheaves
Morphisms
Morphisms of sheaves are, roughly speaking, analogous to functions between them. In contrast to a function between sets, which have no additional structure, morphisms of sheaves are those functions which preserve the structure inherent in the sheaves. This idea is made precise in the following definition.
Let $MATH$ and $MATH$ be two sheaves on $MATH$.  A morphism $MATH$ consists of a morphism $MATH$ for each open set $MATH$ of $MATH$, subject to the condition that this morphism is compatible with restrictions.  In other words, for every open subset $MATH$ of an open set $MATH$, the following diagram is commutative.
For example, taking the derivative gives a morphism of sheaves on $MATH$:
$MATH$
Indeed, given an ($MATH$-times continuously differentiable) function $MATH$ (with $MATH$ in $MATH$ open), the restriction (to a smaller open subset $MATH$) of its derivative equals the derivative of $MATH$.
With this notion of morphism, sheaves on a fixed topological space $MATH$ form a category. The general categorical notions of mono-, epi- and isomorphisms can therefore be applied to sheaves. A sheaf morphism $MATH$ is an isomorphism (resp. monomorphism) if and only if each $MATH$ is a bijection (resp. injective map). Moreover, a morphism of sheaves $MATH$ is an isomorphism if and only if there exists an open cover $MATH$ such that $MATH$ are isomorphisms of sheaves for all $MATH$. This statement, which also holds for monomorphisms, but does not hold for presheaves, is another instance of the idea that sheaves are of a local nature.
The corresponding statements do not hold for epimorphisms (of sheaves), and their failure is measured by sheaf cohomology.
Stalks of a sheaf
The stalk $MATH$ of a sheaf $MATH$ captures the properties of a sheaf "around" a point $MATH$, generalizing the germs of functions.
Here, "around" means that, conceptually speaking, one looks at smaller and smaller neighborhoods of the point. Of course, no single neighborhood will be small enough, which requires considering a limit of some sort. More precisely, the stalk is defined by
the direct limit being over all open subsets of $MATH$ containing the given point $MATH$. In other words, an element of the stalk is given by a section over some open neighborhood of $MATH$, and two such sections are considered equivalent if their restrictions agree on a smaller neighborhood.
The natural morphism $MATH$ takes a section $MATH$ in $MATH$ to its germ at $MATH$.  This generalises the usual definition of a germ.
In many situations, knowing the stalks of a sheaf is enough to control the sheaf itself. For example, whether or not a morphism of sheaves is a monomorphism, epimorphism, or isomorphism can be tested on the stalks. In this sense, a sheaf is determined by its stalks, which are a local data. By contrast, the global information present in a sheaf, i.e., the global sections, i.e., the sections $MATH$ on the whole space $MATH$, typically carry less information. For example, for a compact complex manifold $MATH$, the global sections of the sheaf of holomorphic functions are just $MATH$, since any holomorphic function
is constant by Liouville's theorem.
Turning a presheaf into a sheaf
It is frequently useful to take the data contained in a presheaf and to express it as a sheaf.  It turns out that there is a best possible way to do this.  It takes a presheaf $MATH$ and produces a new sheaf $MATH$ called the sheafification or sheaf associated to the presheaf $MATH$. For example, the sheafification of the constant presheaf (see above) is called the constant sheaf. Despite its name, its sections are locally constant functions.
The sheaf $MATH$ can be constructed using the étalé space of $MATH$, namely as the sheaf of sections of the map
Another construction of the sheaf $MATH$ proceeds by means of a functor $MATH$ from presheaves to presheaves that gradually improves the properties of a presheaf: for any presheaf $MATH$, $MATH$ is a separated presheaf, and for any separated presheaf $MATH$, $MATH$ is a sheaf. The associated sheaf $MATH$ is given by $MATH$.
The idea that the sheaf $MATH$ is the best possible approximation to $MATH$ by a sheaf is made precise using the following universal property: there is a natural morphism of presheaves $MATH$ so that for any sheaf $MATH$ and any morphism of presheaves $MATH$, there is a unique morphism of sheaves $MATH$ such that $MATH$.  In fact $MATH$ is the left adjoint functor to the inclusion functor (or forgetful functor) from the category of sheaves to the category of presheaves, and $MATH$ is the unit of the adjunction. In this way, the category of sheaves turns into a Giraud subcategory of presheaves. This categorical situation is the reason why the sheafification functor appears in constructing cokernels of sheaf morphisms or tensor products of sheaves, but not for kernels, say.
Subsheaves, quotient sheaves
If $MATH$ is a subsheaf of a sheaf $MATH$ of abelian groups, then the quotient sheaf $MATH$ is the sheaf associated to the presheaf $MATH$; in other words, the quotient sheaf fits into an exact sequence of sheaves of abelian groups;
(this is also called a sheaf extension.)
Let $MATH$ be sheaves of abelian groups. The set $MATH$ of morphisms of sheaves from $MATH$ to $MATH$ forms an abelian group (by the abelian group structure of $MATH$). The sheaf hom of $MATH$ and $MATH$, denoted by,
is the sheaf of abelian groups $MATH$ where $MATH$ is the sheaf on $MATH$ given by $MATH$ (note sheafification is not needed here). The direct sum of $MATH$ and $MATH$ is the sheaf given by $MATH$, and the tensor product of $MATH$ and $MATH$ is the sheaf associated to the presheaf $MATH$.
All of these operations extend to sheaves of modules over a sheaf of rings $MATH$; the above is the special case when $MATH$ is the constant sheaf $MATH$.
Basic functoriality
Since the data of a (pre-)sheaf depends on the open subsets of the base space, sheaves on different topological spaces are unrelated to each other in the sense that there are no morphisms between them. However, given a continuous map $MATH$ between two topological spaces, pushforward and pullback relate sheaves on $MATH$ to those on $MATH$ and vice versa.
Direct image
The pushforward (also known as direct image) of a sheaf $MATH$ on $MATH$ is the sheaf defined by
Here $MATH$ is an open subset of $MATH$, so that its preimage is open in $MATH$ by the continuity of $MATH$. 
This construction recovers the skyscraper sheaf $MATH$ mentioned above:
where $MATH$ is the inclusion, and $MATH$ is regarded as a sheaf on the singleton (by $MATH$.
For a map between locally compact spaces, the direct image with compact support is a subsheaf of the direct image. By definition, $MATH$ consists of those $MATH$ whose support is proper map over $MATH$. If $MATH$ is proper itself, then $MATH$, but in general they disagree.
Inverse image
The pullback or inverse image goes the other way: it produces a sheaf on $MATH$, denoted $MATH$ out of a sheaf $MATH$ on $MATH$. If $MATH$ is the inclusion of an open subset, then the inverse image is just a restriction, i.e., it is given by $MATH$ for an open $MATH$ in $MATH$. A sheaf $MATH$ (on some space $MATH$) is called locally constant if $MATH$ by some open subsets $MATH$ such that the restriction of $MATH$ to all these open subsets is constant. One a wide range of topological spaces $MATH$, such sheaves are equivalent to representations of the fundamental group $MATH$.
For general maps $MATH$, the definition of $MATH$ is more involved; it is detailed at inverse image functor. The stalk is an essential special case of the pullback in view of a natural identification, where $MATH$ is as above:
More generally, stalks satisfy $MATH$.
Extension by zero
For the inclusion $MATH$ of an open subset, the extension by zero of a sheaf of abelian groups on $MATH$ is defined as 
For a sheaf $MATH$ on $MATH$, this construction is in a sense complementary to $MATH$, where $MATH$ is the inclusion of the complement of $MATH$:
These functors are therefore useful in reducing sheaf-theoretic questions on $MATH$ to ones on the strata of a stratification, i.e., a decomposition of $MATH$ into smaller, locally closed subsets.
Complements
Sheaves in more general categories
In addition to (pre-)sheaves as introduced above, where $MATH$ is merely a set, it is in many cases important to keep track of additional structure on these sections. For example, the sections of the sheaf of continuous functions naturally form a real vector space, and restriction is a linear map between these vector spaces.
Presheaves with values in an arbitrary category $MATH$ are defined by first considering the category of open sets on $MATH$ to be the posetal category $MATH$ whose objects are the open sets of $MATH$ and whose morphisms are inclusions.  Then a $MATH$-valued presheaf on $MATH$ is the same as a contravariant functor from $MATH$ to $MATH$. Morphisms in this category of functors, also known as natural transformations, are the same as the morphisms defined above, as can be seen by unraveling the definitions.
If the target category $MATH$ admits all limits, a $MATH$-valued presheaf is a sheaf if the following diagram is an equalizer for every open cover
$MATH$ of any open set $MATH$:
Here the first map is the product of the restriction maps
and the pair of arrows the products of the two sets of restrictions
and
If $MATH$ is an abelian category, this condition can also be rephrased by requiring that there is an exact sequence
A particular case of this sheaf condition occurs for $MATH$ being the empty set, and the index set $MATH$ also being empty. In this case, the sheaf condition requires $MATH$ to be the terminal object in $MATH$.
Ringed spaces and sheaves of modules
In several geometrical disciplines, including algebraic geometry and differential geometry, the spaces come along with a natural sheaf of rings, often called the structure sheaf and denoted by $MATH$. Such a pair $MATH$ is called a ringed space. Many types of spaces can be defined as certain types of ringed spaces. Commonly, all the stalks $MATH$ of the structure sheaf are local rings, in which case the pair is called a locally ringed space.
For example, an $MATH$-dimensional $MATH$ manifold $MATH$ is a locally ringed space whose structure sheaf consists of $MATH$-functions on the open subsets of $MATH$. The property of being a locally ringed space translates into the fact that such a function, which is nonzero at a point $MATH$, is also non-zero on a sufficiently small open neighborhood of $MATH$. Some authors actually define real (or complex) manifolds to be locally ringed spaces that are locally isomorphic to the pair consisting of an open subset of $MATH$ (resp. $MATH$) together with the sheaf of $MATH$ (resp. holomorphic) functions. Similarly, schemes, the foundational notion of spaces in algebraic geometry, are locally ringed spaces that are locally isomorphic to the spectrum of a ring.
Given a ringed space, a sheaf of modules is a sheaf $MATH$ such that on every open set $MATH$ of $MATH$, $MATH$ is an $MATH$-module and for every inclusion of open sets $MATH$, the restriction map $MATH$ is compatible with the restriction map $MATH$: the restriction of fs is the restriction of $MATH$ times that of $MATH$ for any $MATH$ in $MATH$ and $MATH$ in $MATH$.
Most important geometric objects are sheaves of modules. For example, there is a one-to-one correspondence between vector bundles and locally free sheaves of $MATH$-modules. This paradigm applies to real vector bundles, complex vector bundles, or vector bundles in algebraic geometry (where $MATH$ consists of smooth functions, holomorphic functions, or regular functions, respectively). Sheaves of solutions to differential equations are $MATH$-modules, that is, modules over the sheaf of differential operators. On any topological space, modules over the constant sheaf $MATH$ are the same as sheaves of abelian groups in the sense above.
There is a different inverse image functor for sheaves of modules over sheaves of rings.  This functor is usually denoted $MATH$ and it is distinct from $MATH$.  See inverse image functor.
Finiteness conditions for sheaves of modules
Finiteness conditions for module over commutative rings give rise to similar finiteness conditions for sheaves of modules: $MATH$ is called finitely generated (resp. finitely presented) if, for every point $MATH$ of $MATH$, there exists an open neighborhood $MATH$ of $MATH$, a natural number $MATH$ (possibly depending on $MATH$), and a surjective morphism of sheaves $MATH$ (respectively, in addition a natural number $MATH$, and an exact sequence $MATH$.) Paralleling the notion of a coherent module, $MATH$ is called a coherent sheaf if it is of finite type and if, for every open set $MATH$ and every morphism of sheaves $MATH$ :{\mathcal {O}}_{X}^{n}\to {\mathcal {M}}}
  
 (not necessarily surjective), the kernel of $MATH$ is of finite type. $MATH$ is coherent if it is coherent as a module over itself. Like for modules, coherence is in general a strictly stronger condition than finite presentation. The Oka coherence theorem states that the sheaf of holomorphic functions on a complex manifold is coherent.
The étalé space of a sheaf

In the examples above it was noted that some sheaves occur naturally as sheaves of sections.  In fact, all sheaves of sets can be represented as sheaves of sections of a topological space called the étalé space, from the French word étalé [etale], meaning roughly "spread out". If $MATH$ is a sheaf over $MATH$, then the étalé space of $MATH$ is a topological space $MATH$ together with a local homeomorphism $MATH$ such that the sheaf of sections $MATH$ of $MATH$ is $MATH$. The space $MATH$ is usually very strange, and even if the sheaf $MATH$ arises from a natural topological situation, $MATH$ may not have any clear topological interpretation. For example, if $MATH$ is the sheaf of sections of a continuous function $MATH$, then $MATH$ if and only if $MATH$ is a local homeomorphism.
The étalé space $MATH$ is constructed from the stalks of $MATH$ over $MATH$. As a set, it is their disjoint union and $MATH$ is the obvious map that takes the value $MATH$ on the stalk of $MATH$ over $MATH$.  The topology of $MATH$ is defined as follows. For each element $MATH$ and each $MATH$, we get a germ of $MATH$ at $MATH$, denoted $MATH$ or $MATH$.  These germs determine points of $MATH$.  For any $MATH$ and $MATH$, the union of these points (for all $MATH$) is declared to be open in $MATH$. Notice that each stalk has the discrete topology as subspace topology. Two morphisms between sheaves determine a continuous map of the corresponding étalé spaces that is compatible with the projection maps (in the sense that every germ is mapped to a germ over the same point). This makes the construction into a functor.
The construction above determines an equivalence of categories between the category of sheaves of sets on $MATH$ and the category of étalé spaces over $MATH$. The construction of an étalé space can also be applied to a presheaf, in which case the sheaf of sections of the étalé space recovers the sheaf associated to the given presheaf.


This construction makes all sheaves into representable functors on certain categories of topological spaces. As above, let $MATH$ be a sheaf on $MATH$, let $MATH$ be its étalé space, and let $MATH$ be the natural projection. Consider the overcategory $MATH$ of topological spaces over $MATH$, that is, the category of topological spaces together with fixed continuous maps to $MATH$. Every object of this category is a continuous map $MATH$, and a morphism from $MATH$ to $MATH$ is a continuous map $MATH$ that commutes with the two maps to $MATH$. There is a functor
sending an object $MATH$ to $MATH$. For example, if $MATH$ is the inclusion of an open subset, then
and for the inclusion of a point $MATH$, then
is the stalk of $MATH$ at $MATH$.  There is a natural isomorphism
which shows that $MATH$ (for the étalé space) represents the functor $MATH$.
$MATH$ is constructed so that the projection map $MATH$ is a covering map. In algebraic geometry, the natural analog of a covering map is called an étale morphism. Despite its similarity to "étalé", the word étale [etal] has a different meaning in French. It is possible to turn $MATH$ into a scheme and $MATH$ into a morphism of schemes in such a way that $MATH$ retains the same universal property, but $MATH$ is not in general an étale morphism because it is not quasi-finite. It is, however, formally étale.
The definition of sheaves by étalé spaces is older than the definition given earlier in the article. It is still common in some areas of mathematics such as mathematical analysis.
Sheaf cohomology
In contexts, where the open set $MATH$ is fixed, and the sheaf is regarded as a variable, the set $MATH$ is also often denoted $MATH$
As was noted above, this functor does not preserve epimorphisms. Instead, an epimorphism of sheaves $MATH$ is a map with the following property: for any section $MATH$ there is a covering $MATH$ where 
of open subsets, such that the restriction $MATH$ are in the image of $MATH$. However, $MATH$ itself need not be in the image of $MATH$. A concrete example of this phenomenon is the exponential map 
between the sheaf of holomorphic functions and non-zero holomorphic functions. This map is an epimorphism, which amounts to saying that any non-zero holomorphic function $MATH$ (on some open subset in $MATH$, say), admits a complex logarithm locally, i.e., after restricting $MATH$ to appropriate open subsets. However, $MATH$ need not have a logarithm globally.
Sheaf cohomology captures this phenomenon. More precisely, for an exact sequence of sheaves of abelian groups

(i.e., an epimorphism $MATH$ whose kernel is $MATH$), there is a long exact sequence
By means of this sequence, the first cohomology group $MATH$ is a measure for the non-surjectivity of the map between sections of $MATH$ and $MATH$.
There are several different ways of constructing sheaf cohomology. Grothendieck (1957) introduced them by defining sheaf cohomology as the derived functor of $MATH$. This method is theoretically satisfactory, but, being based on injective resolutions, of little use in concrete computations. Godement resolutions are another general, but practically inaccessible approach.
Computing sheaf cohomology
Especially in the context of sheaves on manifolds, sheaf cohomology can often be computed using resolutions by soft sheaves, fine sheaves, and flabby sheaves (also known as flasque sheaves from the French flasque meaning flabby). For example, a partition of unity argument shows that the sheaf of smooth functions on a manifold is soft. The higher cohomology groups $MATH$ for $MATH$ vanish for soft sheaves, which gives a way of computing cohomology of other sheaves. For example, the de Rham complex is a resolution of the constant sheaf $MATH$ on any smooth manifold, so the sheaf cohomology of $MATH$ is equal to its de Rham cohomology.
A different approach is by Čech cohomology. Čech cohomology was the first cohomology theory developed for sheaves and it is well-suited to concrete calculations, such as computing the coherent sheaf cohomology of complex projective space $MATH$. It relates sections on open subsets of the space to cohomology classes on the space. In most cases, Čech cohomology computes the same cohomology groups as the derived functor cohomology. However, for some pathological spaces, Čech cohomology will give the correct $MATH$ but incorrect higher cohomology groups. To get around this, Jean-Louis Verdier developed hypercoverings. Hypercoverings not only give the correct higher cohomology groups but also allow the open subsets mentioned above to be replaced by certain morphisms from another space. This flexibility is necessary in some applications, such as the construction of Pierre Deligne's mixed Hodge structures.


Many other coherent sheaf cohomology groups are found using an embedding $MATH$ of a space $MATH$ into a space with known cohomology, such as $MATH$, or some weighted projective space. In this way, the known sheaf cohomology groups on these ambient spaces can be related to the sheaves $MATH$, giving $MATH$. For example, computing the coherent sheaf cohomology of projective plane curves is easily found. One big theorem in this space is the Hodge decomposition found using a spectral sequence associated to sheaf cohomology groups, proved by Deligne. Essentially, the $MATH$-page with terms
the sheaf cohomology of a smooth projective variety $MATH$, degenerates, meaning $MATH$. This gives the canonical Hodge structure on the cohomology groups $MATH$. It was later found these cohomology groups can be easily explicitly computed using Griffiths residues. See Jacobian ideal. These kinds of theorems lead to one of the deepest theorems about the cohomology of algebraic varieties, the decomposition theorem, paving the path for Mixed Hodge modules.
Another clean approach to the computation of some cohomology groups is the Borel–Bott–Weil theorem, which identifies the cohomology groups of some line bundles on flag manifolds with irreducible representations of Lie groups.  This theorem can be used, for example, to easily compute the cohomology groups of all line bundles on projective space and grassmann manifolds.
In many cases there is a duality theory for sheaves that generalizes Poincaré duality. See Grothendieck duality and Verdier duality.
Derived categories of sheaves
The derived category of the category of sheaves of, say, abelian groups on some space X, denoted here as $MATH$, is the conceptual haven for sheaf cohomology, by virtue of the following relation: 
The adjunction between $MATH$, which is the left adjoint of $MATH$ (already on the level of sheaves of abelian groups) gives rise to an adjunction 
where $MATH$ is the derived functor. This latter functor encompasses the notion of sheaf cohomology since $MATH$ for $MATH$.
Like $MATH$, the direct image with compact support $MATH$ can also be derived. By virtue of the following isomorphism $MATH$ parametrizes the cohomology with compact support of the fibers of $MATH$:
This isomorphism is an example of a base change theorem. There is another adjunction
Unlike all the functors considered above, the twisted (or exceptional) inverse image functor $MATH$ is in general only defined on the level of derived categories, i.e., the functor is not obtained as the derived functor of some functor between abelian categories. If $MATH$ and X is a smooth orientable manifold of dimension n, then
This computation, and the compatibility of the functors with duality (see Verdier duality) can be used to obtain a high-brow explanation of Poincaré duality. In the context of quasi-coherent sheaves on schemes, there is a similar duality known as coherent duality.
Perverse sheaves are certain objects in $MATH$, i.e., complexes of sheaves (but not in general sheaves proper). They are an important tool to study the geometry of singularities.
Derived categories of coherent sheaves and the Grothendieck group

Another important application of derived categories of sheaves is with the derived category of coherent sheaves on a scheme $MATH$ denoted $MATH$. This was used by Grothendieck in his development of intersection theory using derived categories and K-theory, that the intersection product of subschemes $MATH$ is represented in K-theory as
where $MATH$ are coherent sheaves defined by the $MATH$-modules given by their structure sheaves.
Sites and topoi
André Weil's Weil conjectures stated that there was a cohomology theory for algebraic varieties over finite fields that would give an analogue of the Riemann hypothesis.  The cohomology of a complex manifold can be defined as the sheaf cohomology of the locally constant sheaf $MATH$ in the Euclidean topology, which suggests defining a Weil cohomology theory in positive characteristic as the sheaf cohomology of a constant sheaf.  But the only classical topology on such a variety is the Zariski topology, and the Zariski topology has very few open sets, so few that the cohomology of any Zariski-constant sheaf on an irreducible variety vanishes (except in degree zero).  Alexandre Grothendieck solved this problem by introducing Grothendieck topologies, which axiomatize the notion of covering.  Grothendieck's insight was that the definition of a sheaf depends only on the open sets of a topological space, not on the individual points.  Once he had axiomatized the notion of covering, open sets could be replaced by other objects.  A presheaf takes each one of these objects to data, just as before, and a sheaf is a presheaf that satisfies the gluing axiom with respect to our new notion of covering.  This allowed Grothendieck to define étale cohomology and ℓ-adic cohomology, which eventually were used to prove the Weil conjectures.
A category with a Grothendieck topology is called a site.  A category of sheaves on a site is called a topos or a Grothendieck topos.  The notion of a topos was later abstracted by William Lawvere and Miles Tierney to define an elementary topos, which has connections to mathematical logic.
History
The first origins of sheaf theory are hard to pin down – they may be co-extensive with the idea of analytic continuation. It took about 15 years for a recognisable, free-standing theory of sheaves to emerge from the foundational work on cohomology.
At this point sheaves had become a mainstream part of mathematics, with use by no means restricted to algebraic topology. It was later discovered that the logic in categories of sheaves is intuitionistic logic (this observation is now often referred to as Kripke–Joyal semantics, but probably should be attributed to a number of authors).
See also
Notes